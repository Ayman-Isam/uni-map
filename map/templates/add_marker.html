{% extends 'base.html' %}
{% load static %}

{% block title %}
University Map
{% endblock %}

{% block head %}
<link rel="stylesheet" type="text/css" href="{% static 'css/form.css' %}">
{% endblock %}

{% block content %}
<div class="form-container">
    <h2>Add University</h2>
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="field-row">
            <div class="field">
                <label for="name">University Name</label>
                <input type="text" name="name" placeholder="Enter University name" value="{{ form_data.name|default_if_none:'' }}" required>
            </div>
            <div class="field">
                <label for="website">Website</label>
                <input type="text" name="website" placeholder="Enter URL of Website" value="{{ form_data.website|default_if_none:'' }}" required>
            </div>
        </div>
        <div class="field">
            <label for="location">Address</label>
            <input type="text" name="location" placeholder="Enter Address of University" value="{{ form_data.location|default_if_none:'' }}" required onchange="geocodeAddress()">
        </div>
        <div class="field-row">
            <div class="field">
                <label for="name">Latitude</label>
                <input type="text" name="latitude" placeholder="Enter Latitude of University" value="{{ form_data.latitude|default_if_none:'' }}" required>
            </div>
            <div class="field">
                <label for="website">Longitude</label>
                <input type="text" name="longitude" placeholder="Enter Longitude of University" value="{{ form_data.longitude|default_if_none:'' }}" required>
            </div>
        </div>
        <div id="program-container">
            <div class="program-fields">
                <div class="field-row">
                    <div class="field">
                        <label for="program">Degree</label>
                        <div class="select-menu">
                            <div class="select-btn">
                                <span class="sBtn-text">Select Program</span>
                                <i class="fas fa-chevron-down"></i>
                            </div>
    
                            <ul class="options" name="program_type_0">
                                {% for value, name in program_types %}
                                    <li class="option" data-value="{{ value }}" {% if form_data.program_type == value %}selected{% endif %}>
                                        <span class="option-text">{{ name }}</span>
                                    </li>
                                {% endfor %}
                            </ul>
                            <input type="hidden" id="program_type_0" name="program_type_0">
                        </div>
                    </div>
                    <div class="field">
                        <label for="program">Program</label>
                        <input type="text" name="program_0" placeholder="Enter Name of Program" value="{{ form_data.program|default_if_none:'' }}" required>
                    </div>
                </div>
            </div>
        </div>
        <button type="button" id="add-program"><i class="fa-solid fa-plus"></i>Add Course</button>
        <button type="button" id="remove-program"><i class="fa-solid fa-minus"></i>Remove Course</button>
        <label for="input-file" id="drop-area">
            <input type="file" accept="image/*" id="input-file" name="logo" hidden>
            <div id="img-view">
                <img src="{% static 'img/upload.png' %}" style="height: 100px;">
                <p>Drag and drop or click here to upload logo</p>
            </div>
        </label>
        <button type="submit">Add University</button>
    </form>
</div>
<div class="form-sidebar">
    <h2>Instructions</h2>
    <ul>
        <li>1. Enter the official full name of the University (No Acroyms)</li>
        <li>2. Enter the Google Maps URL of the university. To do this, search for the University on Google Maps, click on the location pin, copy the URL from the address bar, and paste it. </li>
        <li>3. Enter the location of this University (including country), can be found on Google Maps</li>
        <li>4. Enter the URL to the website of the university</li>
        <li>5. Enter the type of degree the person got admitted into the university for</li>
        <li>6. Enter the program the person is getting admitted for</li>
        <li>7. Upload the logo of the university, preferably png</li>
    </ul>
</div>
{% for message in messages %}
<div class="custom-toast {{ message.tags }}">
    <button class="close-button">
        <i class="fas fa-times"></i>
    </button>
    <div class="toast-body">
        <i class="icon"></i> {{ message }}
    </div>
    <div class="toast-progress-bar"></div>
</div>
{% endfor %}
<script src="{% static 'js/file.js'%}"></script>
{% endblock %}